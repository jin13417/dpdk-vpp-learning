<mxfile host="app.diagrams.net" modified="2021-10-17T09:49:38.805Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.107 Safari/537.36" etag="101bykQ7Ogp4HgZbzmpD" version="15.4.3" type="github">
  <diagram id="8pdUEugthOyUBi60M9Dm" name="Page-1">
    <mxGraphModel dx="782" dy="436" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="vImbfQAYYGUwxeGVUVHD-1" value="kernel space" style="rounded=1;whiteSpace=wrap;html=1;align=left;verticalAlign=bottom;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="40" y="1323" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vImbfQAYYGUwxeGVUVHD-2" value="user space &lt;br&gt;vpp" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="43" y="1260" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="vImbfQAYYGUwxeGVUVHD-3" value="vpp0" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="93" y="1331" width="53" height="15" as="geometry" />
        </mxCell>
        <mxCell id="vImbfQAYYGUwxeGVUVHD-5" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="vImbfQAYYGUwxeGVUVHD-4" target="vImbfQAYYGUwxeGVUVHD-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vImbfQAYYGUwxeGVUVHD-4" value="tapcli-0" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;arcSize=50;" vertex="1" parent="1">
          <mxGeometry x="93.5" y="1282.5" width="52" height="15" as="geometry" />
        </mxCell>
        <mxCell id="vImbfQAYYGUwxeGVUVHD-6" value="/dev/net/tun" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontColor=#FF0000;" vertex="1" parent="1">
          <mxGeometry x="78" y="1295" width="82" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vImbfQAYYGUwxeGVUVHD-7" value="tap_create_if_args_t&#xa;tap 接口创建临时参数结构体" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="110" y="50" width="250" height="536" as="geometry" />
        </mxCell>
        <mxCell id="vImbfQAYYGUwxeGVUVHD-8" value="u32 id;tap接口索引id，最大1024" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="vImbfQAYYGUwxeGVUVHD-7">
          <mxGeometry y="40" width="250" height="26" as="geometry" />
        </mxCell>
        <mxCell id="vImbfQAYYGUwxeGVUVHD-10" value="u8 mac_addr_set; vpp mac地址是否指定&#xa;mac_address_t mac_addr;mac地址" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="vImbfQAYYGUwxeGVUVHD-7">
          <mxGeometry y="66" width="250" height="44" as="geometry" />
        </mxCell>
        <mxCell id="vImbfQAYYGUwxeGVUVHD-11" value="u8 num_rx_queues：rx队列数量" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="vImbfQAYYGUwxeGVUVHD-7">
          <mxGeometry y="110" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="vImbfQAYYGUwxeGVUVHD-12" value="u16 rx_ring_sz;&#xa;u16 tx_ring_sz;" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="vImbfQAYYGUwxeGVUVHD-7">
          <mxGeometry y="140" width="250" height="44" as="geometry" />
        </mxCell>
        <mxCell id="vImbfQAYYGUwxeGVUVHD-13" value="u32 tap_flags;" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="vImbfQAYYGUwxeGVUVHD-7">
          <mxGeometry y="184" width="250" height="26" as="geometry" />
        </mxCell>
        <mxCell id="vImbfQAYYGUwxeGVUVHD-14" value="u8 *host_namespace;" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="vImbfQAYYGUwxeGVUVHD-7">
          <mxGeometry y="210" width="250" height="26" as="geometry" />
        </mxCell>
        <mxCell id="vImbfQAYYGUwxeGVUVHD-15" value="u8 *host_if_name;" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="vImbfQAYYGUwxeGVUVHD-7">
          <mxGeometry y="236" width="250" height="26" as="geometry" />
        </mxCell>
        <mxCell id="vImbfQAYYGUwxeGVUVHD-16" value="mac_address_t host_mac_addr;" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="vImbfQAYYGUwxeGVUVHD-7">
          <mxGeometry y="262" width="250" height="26" as="geometry" />
        </mxCell>
        <mxCell id="vImbfQAYYGUwxeGVUVHD-17" value="u8 *host_bridge;" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="vImbfQAYYGUwxeGVUVHD-7">
          <mxGeometry y="288" width="250" height="26" as="geometry" />
        </mxCell>
        <mxCell id="vImbfQAYYGUwxeGVUVHD-18" value="ip4_address_t host_ip4_addr;&#xa;u8 host_ip4_prefix_len;" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="vImbfQAYYGUwxeGVUVHD-7">
          <mxGeometry y="314" width="250" height="36" as="geometry" />
        </mxCell>
        <mxCell id="vImbfQAYYGUwxeGVUVHD-19" value="ip4_address_t host_ip4_gw;&#xa;  u8 host_ip4_gw_set;" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="vImbfQAYYGUwxeGVUVHD-7">
          <mxGeometry y="350" width="250" height="40" as="geometry" />
        </mxCell>
        <mxCell id="vImbfQAYYGUwxeGVUVHD-20" value="ip6_address_t host_ip6_addr;&#xa;  u8 host_ip6_prefix_len;" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="vImbfQAYYGUwxeGVUVHD-7">
          <mxGeometry y="390" width="250" height="40" as="geometry" />
        </mxCell>
        <mxCell id="vImbfQAYYGUwxeGVUVHD-22" value="ip6_address_t host_ip6_gw;&#xa;  u8 host_ip6_gw_set;" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="vImbfQAYYGUwxeGVUVHD-7">
          <mxGeometry y="430" width="250" height="40" as="geometry" />
        </mxCell>
        <mxCell id="vImbfQAYYGUwxeGVUVHD-21" value="u8 host_mtu_set;&#xa;  u32 host_mtu_size;" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="vImbfQAYYGUwxeGVUVHD-7">
          <mxGeometry y="470" width="250" height="40" as="geometry" />
        </mxCell>
        <mxCell id="vImbfQAYYGUwxeGVUVHD-23" value="u32 sw_if_index; 返回数值" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="vImbfQAYYGUwxeGVUVHD-7">
          <mxGeometry y="510" width="250" height="26" as="geometry" />
        </mxCell>
        <mxCell id="vImbfQAYYGUwxeGVUVHD-25" value="tap_main_t" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="50" y="660" width="250" height="120" as="geometry" />
        </mxCell>
        <mxCell id="vImbfQAYYGUwxeGVUVHD-26" value="vlib_log_class_t log_default" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="vImbfQAYYGUwxeGVUVHD-25">
          <mxGeometry y="26" width="250" height="26" as="geometry" />
        </mxCell>
        <mxCell id="vImbfQAYYGUwxeGVUVHD-28" value="uword *tap_ids；tap id管理bitmap" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="vImbfQAYYGUwxeGVUVHD-25">
          <mxGeometry y="52" width="250" height="28" as="geometry" />
        </mxCell>
        <mxCell id="vImbfQAYYGUwxeGVUVHD-29" value="int host_mtu_size：tap接口主机mtu大小&#xa;是在startup.conf文件中指定。" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="vImbfQAYYGUwxeGVUVHD-25">
          <mxGeometry y="80" width="250" height="40" as="geometry" />
        </mxCell>
        <mxCell id="vImbfQAYYGUwxeGVUVHD-34" value="virtio_main_t" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="50" y="810" width="250" height="120" as="geometry" />
        </mxCell>
        <mxCell id="vImbfQAYYGUwxeGVUVHD-35" value="vlib_log_class_t log_default" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="vImbfQAYYGUwxeGVUVHD-34">
          <mxGeometry y="26" width="250" height="26" as="geometry" />
        </mxCell>
        <mxCell id="vImbfQAYYGUwxeGVUVHD-36" value="u32 interrupt_queues_count;" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="vImbfQAYYGUwxeGVUVHD-34">
          <mxGeometry y="52" width="250" height="28" as="geometry" />
        </mxCell>
        <mxCell id="vImbfQAYYGUwxeGVUVHD-37" value="virtio_if_t *interfaces;&#xa;接口pool内存池" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="vImbfQAYYGUwxeGVUVHD-34">
          <mxGeometry y="80" width="250" height="40" as="geometry" />
        </mxCell>
        <mxCell id="vImbfQAYYGUwxeGVUVHD-38" value="virtio_main_t" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="400" y="720" width="250" height="120" as="geometry" />
        </mxCell>
        <mxCell id="vImbfQAYYGUwxeGVUVHD-39" value="vlib_log_class_t log_default" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="vImbfQAYYGUwxeGVUVHD-38">
          <mxGeometry y="26" width="250" height="26" as="geometry" />
        </mxCell>
        <mxCell id="vImbfQAYYGUwxeGVUVHD-40" value="u32 interrupt_queues_count;" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="vImbfQAYYGUwxeGVUVHD-38">
          <mxGeometry y="52" width="250" height="28" as="geometry" />
        </mxCell>
        <mxCell id="vImbfQAYYGUwxeGVUVHD-41" value="virtio_if_t *interfaces;&#xa;接口pool内存池" style="text;strokeColor=#d6b656;fillColor=#fff2cc;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="vImbfQAYYGUwxeGVUVHD-38">
          <mxGeometry y="80" width="250" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
